---
---

<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulador Comprar vs Arrendar</title>

<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">

<style>

body{
font-family:Manrope;
margin:0;
background:#f3f4f6;
}

.container{
display:flex;
gap:40px;
padding:40px;
}

.left{flex:1;}

.right{
flex:1;
background:#065f46;
color:white;
padding:30px;
border-radius:16px;
}

.card{
background:white;
padding:20px;
border-radius:12px;
margin-bottom:20px;
}

details summary{
font-weight:700;
font-size:18px;
cursor:pointer;
margin-bottom:10px;
}

label{
display:block;
margin-top:12px;
font-weight:600;
}

.value{
float:right;
color:#065f46;
font-weight:700;
}

input[type=range]{
width:100%;
}

.big{
font-size:46px;
font-weight:700;
}

.compareBar{
height:12px;
background:#134e4a;
border-radius:999px;
overflow:hidden;
margin:8px 0 20px 0;
}

.compareFillBuy{
height:100%;
background:#fbbf24;
}

.compareFillRent{
height:100%;
background:#34d399;
}

.resultCard{
background:#166534;
padding:22px;
border-radius:14px;
margin-top:20px;
border:2px solid #fbbf24;
}

.disclaimer{
background:#064e3b;
padding:16px;
border-radius:12px;
margin-top:20px;
font-size:14px;
opacity:0.9;
}

@media(max-width:900px){
.container{flex-direction:column;}
}

</style>
</head>

<body>

<div class="container">

<!-- LEFT -->
<div class="left">

<h1>Simulador Arrendar vs Comprar</h1>

<div class="card">
<details open>
<summary>üè† Comprar</summary>

<label>Pre√ßo <span id="vpreco" class="value"></span></label>
<input id="preco" type="range" min="50000" max="800000" step="5000" value="250000">

<label>Entrada <span id="ventrada" class="value"></span></label>
<input id="entrada" type="range" min="0" max="300000" step="5000" value="50000">

<label>Juro % <span id="vjuros" class="value"></span></label>
<input id="juros" type="range" min="0" max="7" step="0.1" value="3.5">

<label>Prazo (anos) <span id="vanos" class="value"></span></label>
<input id="anos" type="range" min="5" max="40" value="30">

<label>IMI anual <span id="vimi" class="value"></span></label>
<input id="imi" type="range" min="0" max="2500" step="50" value="400">

<label>Condom√≠nio mensal <span id="vcond" class="value"></span></label>
<input id="cond" type="range" min="0" max="300" value="50">

<label>Manuten√ß√£o anual <span id="vmanut" class="value"></span></label>
<input id="manut" type="range" min="0" max="5000" step="100" value="1000">

<label>Seguro multirriscos anual <span id="vseguro" class="value"></span></label>
<input id="seguro" type="range" min="0" max="800" value="250">

</details>
</div>

<div class="card">
<details open>
<summary>üè° Arrendar</summary>

<label>Renda mensal <span id="vrenda" class="value"></span></label>
<input id="renda" type="range" min="300" max="4000" step="50" value="800">

<label>Extras mensais <span id="vextra" class="value"></span></label>
<input id="extra" type="range" min="0" max="500" value="0">

</details>
</div>

</div>

<!-- RIGHT -->
<div class="right">

<h2>Resultados</h2>

Presta√ß√£o mensal
<div class="big" id="prest"></div>

Custo Anual (Comprar) <span id="buyVal"></span>
<div class="compareBar"><div id="buyBar" class="compareFillBuy"></div></div>

Custo Anual (Arrendar) <span id="rentVal"></span>
<div class="compareBar"><div id="rentBar" class="compareFillRent"></div></div>

<div id="resultCard" class="resultCard"></div>

<div class="disclaimer">
<b>Nota importante:</b> Esta simula√ß√£o √© uma estimativa simplificada.  
N√£o inclui valoriza√ß√£o do im√≥vel, infla√ß√£o ou benef√≠cios fiscais.  
Consulte um profissional para decis√µes financeiras.
</div>

</div>

</div>

<script>

const formatEuro = n =>
  new Intl.NumberFormat('pt-PT',{
    style:'currency',
    currency:'EUR'
  }).format(n);

const g=id=>document.getElementById(id);

function pay(P,r,y){
let m=y*12;
let j=r/100/12;
return j===0?P/m:P*(j*(1+j)**m)/((1+j)**m-1);
}

function update(){

let p=+g("preco").value;
let e=+g("entrada").value;
let r=+g("juros").value;
let y=+g("anos").value;

let imi=+g("imi").value;
let cond=+g("cond").value;
let manut=+g("manut").value;
let seguro=+g("seguro").value;

let renda=+g("renda").value;
let extra=+g("extra").value;

// labels
g("vpreco").innerText=formatEuro(p);
g("ventrada").innerText=formatEuro(e);
g("vjuros").innerText=r+"%";
g("vanos").innerText=y;
g("vimi").innerText=formatEuro(imi);
g("vcond").innerText=formatEuro(cond);
g("vmanut").innerText=formatEuro(manut);
g("vseguro").innerText=formatEuro(seguro);
g("vrenda").innerText=formatEuro(renda);
g("vextra").innerText=formatEuro(extra);

// c√°lculos
let loan=p-e;
let mensal=pay(loan,r,y);

let buy=mensal*12+imi+cond*12+manut+seguro;
let rent=renda*12+extra*12;

g("prest").innerText=formatEuro(mensal);
g("buyVal").innerText=formatEuro(buy);
g("rentVal").innerText=formatEuro(rent);

// barras
let max=Math.max(buy,rent);
g("buyBar").style.width=(buy/max*100)+"%";
g("rentBar").style.width=(rent/max*100)+"%";

// resultado
let diff=Math.abs(buy-rent);

if(buy<rent){
g("resultCard").innerHTML="<h3>Comprar √© mais barato</h3>Poupan√ßa anual de <b>"+formatEuro(diff)+"</b>";
}else{
g("resultCard").innerHTML="<h3>Arrendar √© mais barato</h3>Poupan√ßa anual de <b>"+formatEuro(diff)+"</b>";
}

}

document.querySelectorAll("input").forEach(i=>i.addEventListener("input",update));
update();

</script>

</body>
</html>
